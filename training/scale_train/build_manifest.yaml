build_configs:
  echo:
    build_context:
      root: ../../
      include_paths: 
        - ./training
        - ./codeprm
        - ./results
      dockerfile: ./training/scale_train/Dockerfile
      dockerignore: ./training/scale_train/.dockerignore
    local:
      repository: scale_train/shared/training/tmp
      tag: latest
    remote:
      registry: 692474966980.dkr.ecr.us-west-2.amazonaws.com
      repository: scale_train/shared/training/tmp

interactive_configs:
  echo: # key must match a build config in the build_configs dict
    secrets:
      - id=codeartifact-pip-conf,src=${CODEARTIFACT_PIP_CONF}
    use_gpu: False
    mounts:
      - host_path: ${CODEPRM_ROOT}
        container_path: /workspace
      - host_path: ${MOUNTABLE_AWS_FOLDER}
        container_path: /root/.aws
